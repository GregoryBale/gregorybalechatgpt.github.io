// Получаем элементы модального окна
const updatesModal = document.getElementById('updates-modal');
const openUpdatesModalButtons = document.querySelectorAll('#infoforupdates, #infoforupdates-mobile');
const closeUpdatesModalButton = document.getElementById('close-updates-modal');
const updatesList = document.getElementById('updates-list');

// Данные об обновлениях
const updates = [
    "Версия 0.01 бета: Запуск базового чат-интерфейса с поддержкой одной модели ИИ.",
    "Версия 0.02 бета: Добавлена поддержка нескольких моделей ИИ, включая GPT-3.5, GPT-4, и Llama.",
    "Версия 0.03 бета: Реализован адаптивный дизайн для мобильных устройств.",
    "Версия 0.04 бета: Добавлена функция очистки чата и сохранение истории в локальное хранилище.",
    "Версия 0.05 бета: Внедрена система выбора модели ИИ через выпадающее меню.",
    "Версия 0.06 бета: Добавлена поддержка форматирования текста (жирный, курсив, подчеркивание).",
    "Версия 0.07 бета: Реализована функция генерации изображений с помощью команды /image.",
    "Версия 0.08 бета: Добавлена поддержка подсветки синтаксиса для блоков кода.",
    "Версия 0.09 бета: Внедрен механизм повторной попытки с другой моделью при ошибке ответа.",
    "Версия 0.10 бета: Добавлена анимация 'печатающего' сообщения при ожидании ответа от ИИ.",
    "Версия 0.11 бета: Реализовано мобильное меню для улучшения навигации на смартфонах.",
    "Версия 1.00 бета: Масштабное обновление интерфейса, добавление темной темы.",
    "Версия 1.01 бета: Внедрена поддержка голосового ввода для отправки сообщений.",
    "Версия 1.02 бета: Добавлена возможность экспорта истории чата.",
    "Версия 1.03 бета: Реализована система кастомных моделей ИИ, улучшена обработка ошибок.",
    "Версия 1.04 бета: Некоторые функции были временно отключены с целью улучшить их. Обновлено анимация когда ИИ печатает, исправлен баг с кнопкой отправки сообщения, а также Enter, когда не с одного раза удавалось отправлять сообщения."
];

// Функция для отображения обновлений в списке
function showUpdates() {
    updatesList.innerHTML = ''; // Очищаем список
    updates.forEach(update => {
        const listItem = document.createElement('li');
        listItem.textContent = update; // Добавляем текст обновления
        updatesList.appendChild(listItem); // Добавляем элемент в список
    });
}

// Открытие модального окна при нажатии на кнопки
openUpdatesModalButtons.forEach(button => {
    button.addEventListener('click', () => {
        showUpdates(); // Показываем обновления перед открытием окна
        updatesModal.style.display = 'block';
    });
});

// Закрытие модального окна
closeUpdatesModalButton.addEventListener('click', () => {
    updatesModal.style.display = 'none';
});

// Закрытие модального окна при клике вне его
window.addEventListener('click', (event) => {
    if (event.target === updatesModal) {
        updatesModal.style.display = 'none';
    }
});